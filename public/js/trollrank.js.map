{"version":3,"sources":["app.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"trollrank.js","sourcesContent":["+(function($, w, b) {\n    $(function() { //on document ready...\n        'use strict';\n\n        /*\n         * Password strength bar\n         */\n        var options = {};\n        options.common = {\n            minChar: 6,\n            usernameField: \"#name\"\n        };\n        options.ui = {\n            showVerdicts: false,\n            container: '#pwd-strength-bar',\n            viewports: {\n                progress: \"#pwd-strength-viewport-progress\"\n            }\n        };\n        $('#password-register').pwstrength(options);\n\n        /*\n         * Infinite scrolling\n         */\n        $('.scroll').jscroll({\n            autoTriggerUntil: 4,\n            nextSelector: 'a.next:last',\n            contentSelector: 'div.scroll',\n            loadingHtml: '<small>Loading...</small>'\n        });\n\n        /*\n         * Upload images, dropzone configuration\n         */\n        w.Dropzone.options.imageDropzone = {\n            // autoProcessQueue: false,\n            paramName: \"file\",\n            maxFiles: 1,\n            maxFilesize: 2, //MB\n            parallelUploads: 1,\n            acceptedFiles: 'image/*',\n            uploadMultiple: false,\n            previewsContainer: '#dropzone-preview-container',\n            dictDefaultMessage: '<i class=\"fa fa-3x fa-cloud-upload\"></i><br>Select or drop image here',\n            dictInvalidFileType: 'Only images allowed',\n            dictFileTooBig: 'Image must not exceed {{maxFilesize}} MB',\n            dictResponseError: 'Could not upload your image, verify it is a valid image with <{{maxFilesize}} MB',\n            dictMaxFilesExceeded: 'Only one image allowed',\n            init: function() {\n                var that = this;\n\n                // Show image preview and title form after image has been selected for upload\n                this.on(\"sending\", function() {\n                    $('form#image-dropzone').addClass('hidden');\n                    $('div#new-post-form-container').removeClass('hidden');\n                });\n\n                // Reset dropzone and title form on modal close\n                $('#newPost').on('hidden.bs.modal', function () {\n                    that.removeAllFiles();\n                    $('textarea[id=title]').val('');\n                    $('form[id=new-post]').validator();\n                    $('form#image-dropzone').removeClass('hidden');\n                    $('div#new-post-form-container').addClass('hidden');\n                });\n            }\n        };\n\n        /*\n         * Up/down voting system\n         */\n        var $b = $(b);\n        $b.on('click', '#up-vote', function() {\n            $(this).addClass('disabled');\n            $('#down-vote').addClass('disabled');\n            $.post('/services/vote/up', {\n                '_token': $('input[name=\"_token\"]').val(),\n                'post-id': parseInt($('input[name=\"post-id\"]').val(), 10)\n            }, function(res) {\n                if (res['status'] === 'ok' && typeof(res['up-votes']) != \"undefined\")\n                    $('#up-votes').html(res['up-votes'] + ' downs');\n            });\n        });\n        $b.on('click', '#down-vote', function() {\n            $(this).addClass('disabled');\n            $('#up-vote').addClass('disabled');\n            $.post('/services/vote/down', {\n                '_token': $('input[name=\"_token\"]').val(),\n                'post-id': parseInt($('input[name=\"post-id\"]').val(), 10)\n            }, function(res) {\n                if (res['status'] === 'ok' && typeof(res['down-votes']) != \"undefined\")\n                    $('#down-votes').html(res['down-votes'] + ' downs');\n            });\n        });\n\n    });\n})(jQuery, window, window.document.body);\n"],"sourceRoot":"/source/"}